"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["210725"],{776681:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>a,metadata:()=>r,assets:()=>l,toc:()=>c,contentTitle:()=>o});var r=JSON.parse('{"id":"install/deploy-on-kubernetes/separating-storage-compute/config-cluster","title":"Config Cluster","description":"In a disaggregated compute-storage cluster, certain configurations apply at the cluster level, such as credentials used by the management system to administer the nodes of various components.","source":"@site/docs/install/deploy-on-kubernetes/separating-storage-compute/config-cluster.md","sourceDirName":"install/deploy-on-kubernetes/separating-storage-compute","slug":"/install/deploy-on-kubernetes/separating-storage-compute/config-cluster","permalink":"/docs/dev/install/deploy-on-kubernetes/separating-storage-compute/config-cluster","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Config Cluster","language":"en"},"sidebar":"docs","previous":{"title":"Install FoundationDB","permalink":"/docs/dev/install/deploy-on-kubernetes/separating-storage-compute/install-fdb"},"next":{"title":"Config MetaService","permalink":"/docs/dev/install/deploy-on-kubernetes/separating-storage-compute/config-ms"}}'),s=t("785893"),i=t("250065");let a={title:"Config Cluster",language:"en"},o=void 0,l={},c=[{value:"Configuring Management Username and Password",id:"configuring-management-username-and-password",level:2},{value:"Configuring the Root User Password During Cluster Deployment",id:"configuring-the-root-user-password-during-cluster-deployment",level:3},{value:"Step 1: Generate the Encrypted Root Password",id:"step-1-generate-the-encrypted-root-password",level:4},{value:"Step 2: Define the DorisDisaggregatedCluster Resource",id:"step-2-define-the-dorisdisaggregatedcluster-resource",level:4},{value:"Automatically Creating a Non-Root Administrative User and Password During Deployment (Recommended)",id:"automatically-creating-a-non-root-administrative-user-and-password-during-deployment-recommended",level:3},{value:"Option 1: Using Environment Variables",id:"option-1-using-environment-variables",level:4},{value:"Option 2: Using a Secret",id:"option-2-using-a-secret",level:4},{value:"Setting the Root User Password After Cluster Deployment",id:"setting-the-root-user-password-after-cluster-deployment",level:3},{value:"Step 1: Create a User with Node_priv Privilege",id:"step-1-create-a-user-with-node_priv-privilege",level:4},{value:"Step 2: Grant Node_priv Privilege to the User",id:"step-2-grant-node_priv-privilege-to-the-user",level:4},{value:"Step 3: Update the DorisDisaggregatedCluster Resource",id:"step-3-update-the-dorisdisaggregatedcluster-resource",level:4},{value:"Using Kerberos Authentication",id:"using-kerberos-authentication",level:2}];function d(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"In a disaggregated compute-storage cluster, certain configurations apply at the cluster level, such as credentials used by the management system to administer the nodes of various components."}),"\n",(0,s.jsx)(n.h2,{id:"configuring-management-username-and-password",children:"Configuring Management Username and Password"}),"\n",(0,s.jsxs)(n.p,{children:["Managing Doris nodes requires connecting to a live Frontend (FE) node using a username and password via the MySQL protocol. Doris implements a ",(0,s.jsx)(n.a,{href:"../../../admin-manual/auth/authentication-and-authorization",children:"role-based access control (RBAC)-like authorization mechanism"}),", and node management operations require a user account with the ",(0,s.jsx)(n.a,{href:"../../../admin-manual/auth/authentication-and-authorization#Types-of-Permissions",children:"Node_priv"})," privilege."]}),"\n",(0,s.jsx)(n.p,{children:"By default, the Doris Operator uses the root user\u2014who has full privileges and no password\u2014for deploying and managing clusters defined in the DorisDisaggregatedCluster resource. Once a password is assigned to the root account, it is necessary to explicitly configure a username and password with Node_priv in the DorisDisaggregatedCluster resource, enabling the Doris Operator to continue performing automated management tasks."}),"\n",(0,s.jsx)(n.p,{children:"The DorisDisaggregatedCluster resource supports two methods for configuring the credentials required to manage cluster nodes: using environment variables, or using a Kubernetes Secret. Depending on the deployment scenario, the management credentials can be configured in the following ways:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Initializing a password for the root user during cluster deployment"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Automatically creating a non-root user with management privileges in a passwordless root deployment"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Assigning a password to the root user after the cluster has been deployed using the passwordless root mode"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"configuring-the-root-user-password-during-cluster-deployment",children:"Configuring the Root User Password During Cluster Deployment"}),"\n",(0,s.jsxs)(n.p,{children:["Doris supports specifying the root user password in encrypted form within the ",(0,s.jsx)(n.code,{children:"fe.conf"})," file. To enable Doris Operator to automatically manage cluster nodes during initial deployment, follow the steps below to configure the root password."]}),"\n",(0,s.jsx)(n.h4,{id:"step-1-generate-the-encrypted-root-password",children:"Step 1: Generate the Encrypted Root Password"}),"\n",(0,s.jsxs)(n.p,{children:["Doris allows you to configure the root user password in the ",(0,s.jsx)(n.a,{href:"../../../admin-manual/config/fe-config#initial_root_password",children:"FE configuration file"})," using an encrypted format. The password is encrypted using a two-stage SHA-1 hashing algorithm. Below are code examples demonstrating how to perform this encryption:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Java Implementation:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'import org.apache.commons.codec.digest.DigestUtils;\n\npublic static void main(String[] args) {\n    // Original password\n    String a = "123456";\n    String b = DigestUtils.sha1Hex(DigestUtils.sha1(a.getBytes())).toUpperCase();\n    // Output the two-stage encrypted password\n    System.out.println("*" + b);\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Golang Implementation:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'import (\n"crypto/sha1"\n"encoding/hex"\n"fmt"\n"strings"\n)\n\nfunc main() {\n// Original password\nplan := "123456"\n\n// First stage encryption\nh := sha1.New()\nh.Write([]byte(plan))\neb := h.Sum(nil)\n\n// Second stage encryption\nh.Reset()\nh.Write(eb)\nteb := h.Sum(nil)\ndst := hex.EncodeToString(teb)\ntes := strings.ToUpper(fmt.Sprintf("%s", dst))\n\n// Output the two-stage encrypted password\nfmt.Println("*" + tes)\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Add the resulting encrypted password to the fe.conf file as required. Then, follow the instructions in the ",(0,s.jsx)(n.a,{href:"/docs/dev/install/deploy-on-kubernetes/separating-storage-compute/config-fe#custom-startup-configuration",children:"FE startup configuration section"})," to deliver the configuration file to the Kubernetes cluster using a ",(0,s.jsx)(n.code,{children:"ConfigMap"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"step-2-define-the-dorisdisaggregatedcluster-resource",children:"Step 2: Define the DorisDisaggregatedCluster Resource"}),"\n",(0,s.jsxs)(n.p,{children:["Once the initial password is configured in the ",(0,s.jsx)(n.code,{children:"fe.conf"})," file, the root password takes effect immediately when the first Doris FE node starts. As additional nodes join the cluster, Doris Operator uses the root credentials to manage and add these nodes. Therefore, it is necessary to provide the root username and password in the ",(0,s.jsx)(n.code,{children:"DorisDisaggregatedCluster"})," resource."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Option 1: Using Environment Variables"}),(0,s.jsx)(n.br,{}),"\nSpecify the root credentials in the ",(0,s.jsx)(n.code,{children:".spec.adminUser.name"})," and ",(0,s.jsx)(n.code,{children:".spec.adminUser.password"})," fields of the ",(0,s.jsx)(n.code,{children:"DorisDisaggregatedCluster"})," resource. Doris Operator will automatically convert these values into container environment variables. Auxiliary services within the container will use these environment variables to add nodes to the cluster.\nExample configuration:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spec:\n  adminUser:\n    name: root\n    password: ${password}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Here, ${password} should be the plaintext (unencrypted) password for the root user."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Option 2: Using a Secret"}),(0,s.jsx)(n.br,{}),"\nDoris Operator also supports using a ",(0,s.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/configuration/secret/#basic-authentication-secret",children:"Basic Authentication Secret"})," to provide the root username and password. Doris Operator will mount this Secret into the container as a file, which auxiliary services will parse to retrieve the credentials and use them to automatically add nodes to the cluster."]}),"\n",(0,s.jsxs)(n.p,{children:["The Secret must contain exactly two fields: ",(0,s.jsx)(n.code,{children:"username"})," and ",(0,s.jsx)(n.code,{children:"password"}),"."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Define the Secret",(0,s.jsx)(n.br,{}),"\nCreate a Basic Authentication Secret in the following format:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"stringData:\n  username: root\n  password: ${password}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["${password} is the plaintext password for the root user.",(0,s.jsx)(n.br,{}),"\nDeploy the Secret to the Kubernetes cluster using the command below:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"kubectl -n ${namespace} apply -f ${secretFileName}.yaml\n"})}),"\n",(0,s.jsxs)(n.p,{children:["${namespace}: the target namespace where the DorisDisaggregatedCluster will be deployed.",(0,s.jsx)(n.br,{}),"\n${secretFileName}: the name of the YAML file containing the Secret definition"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Configure the DorisDisaggregatedCluster Resource",(0,s.jsx)(n.br,{}),"\nReference the Secret in the ",(0,s.jsx)(n.code,{children:"DorisDisaggregatedCluster"})," resource using the ",(0,s.jsx)(n.code,{children:"spec.authSecret"})," field:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spec:\n  authSecret: ${secretName}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Here, ${secretName} is the name of the Kubernetes Secret containing the root user credentials."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"automatically-creating-a-non-root-administrative-user-and-password-during-deployment-recommended",children:"Automatically Creating a Non-Root Administrative User and Password During Deployment (Recommended)"}),"\n",(0,s.jsxs)(n.p,{children:["If you choose not to set an initial password for the root user during the first deployment, you can configure a non-root administrative user and its password using either environment variables or a Kubernetes Secret. Doris's auxiliary services within the container will automatically create this user within Doris, assign the specified password, and grant it the ",(0,s.jsx)(n.code,{children:"Node_priv"})," privilege. The Doris Operator will then use this automatically created user account to manage cluster nodes."]}),"\n",(0,s.jsx)(n.h4,{id:"option-1-using-environment-variables",children:"Option 1: Using Environment Variables"}),"\n",(0,s.jsxs)(n.p,{children:["Define the ",(0,s.jsx)(n.code,{children:"DorisDisaggregatedCluster"})," resource as shown below:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spec:\n  adminUser:\n    name: ${DB_ADMIN_USER}\n    password: ${DB_ADMIN_PASSWD}\n"})}),"\n",(0,s.jsx)(n.p,{children:"${DB_ADMIN_USER}: the name of the new non-root user with administrative privileges. ${DB_ADMIN_PASSWD}: the password to assign to the new user."}),"\n",(0,s.jsx)(n.h4,{id:"option-2-using-a-secret",children:"Option 2: Using a Secret"}),"\n",(0,s.jsxs)(n.p,{children:["a. Create the Required Secret",(0,s.jsx)(n.br,{}),"\nDefine a Basic Authentication Secret using the following format:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"stringData:\n  username: ${DB_ADMIN_USER}\n  password: ${DB_ADMIN_PASSWD}\n"})}),"\n",(0,s.jsx)(n.p,{children:"${DB_ADMIN_USER}: the username for the new administrative user. ${DB_ADMIN_PASSWD}: the password to assign to the new user.\nDeploy the Secret to your Kubernetes cluster using:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"kubectl -n ${namespace} apply -f ${secretFileName}.yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"${namespace}: the namespace where the DorisDisaggregatedCluster resource is deployed. ${secretFileName}: the name of the YAML file defining the Secret."}),"\n",(0,s.jsxs)(n.p,{children:["b. Update the DorisDisaggregatedCluster Resource",(0,s.jsx)(n.br,{}),"\nSpecify the Secret in the ",(0,s.jsx)(n.code,{children:"DorisDisaggregatedCluster"})," resource:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spec:\n  authSecret: ${secretName}\n"})}),"\n",(0,s.jsx)(n.p,{children:"${secretName}: the name of the Secret containing the non-root administrative user credentials."}),"\n",(0,s.jsx)(n.admonition,{title:"Note",type:"tip",children:(0,s.jsx)(n.p,{children:"After deployment, it is recommended to set a password for the root user. Once this is done, Doris Operator will switch to managing cluster nodes using the new non-root user. Avoid deleting this user after it has been created."})}),"\n",(0,s.jsx)(n.h3,{id:"setting-the-root-user-password-after-cluster-deployment",children:"Setting the Root User Password After Cluster Deployment"}),"\n",(0,s.jsxs)(n.p,{children:["If the root user password is not configured during initial deployment, a user with the ",(0,s.jsx)(n.a,{href:"/docs/dev/admin-manual/auth/authentication-and-authorization#types-of-permissions",children:"Node_priv"})," privilege must be provided to allow Doris Operator to continue managing cluster nodes automatically. It is not recommended to use the root user for this purpose. Instead, refer to the ",(0,s.jsx)(n.a,{href:"../../../sql-manual/sql-statements/account-management/CREATE-USER",children:"User Creation and Privilege Assignment documentation"})," to create a new user and assign the required privileges. After creating the user, configure the credentials using either environment variables or a Kubernetes Secret, and update the ",(0,s.jsx)(n.code,{children:"DorisDisaggregatedCluster"})," resource accordingly."]}),"\n",(0,s.jsx)(n.h4,{id:"step-1-create-a-user-with-node_priv-privilege",children:"Step 1: Create a User with Node_priv Privilege"}),"\n",(0,s.jsx)(n.p,{children:"Connect to the database using the MySQL protocol, and execute the following SQL command to create a new user and assign a password:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE USER '${DB_ADMIN_USER}' IDENTIFIED BY '${DB_ADMIN_PASSWD}';\n"})}),"\n",(0,s.jsx)(n.p,{children:"${DB_ADMIN_USER}: the name of the user to be created. ${DB_ADMIN_PASSWD}: the password for the new user."}),"\n",(0,s.jsx)(n.h4,{id:"step-2-grant-node_priv-privilege-to-the-user",children:"Step 2: Grant Node_priv Privilege to the User"}),"\n",(0,s.jsxs)(n.p,{children:["Still connected via the MySQL protocol, execute the following command to grant the ",(0,s.jsx)(n.code,{children:"Node_priv"})," privilege:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"GRANT NODE_PRIV ON *.*.* TO ${DB_ADMIN_USER};\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Refer to the official ",(0,s.jsx)(n.a,{href:"../../../sql-manual/sql-statements/account-management/CREATE-USER",children:"CREATE USER documentation"})," for more details on user creation and privilege assignment."]}),"\n",(0,s.jsx)(n.h4,{id:"step-3-update-the-dorisdisaggregatedcluster-resource",children:"Step 3: Update the DorisDisaggregatedCluster Resource"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Option 1: Using Environment Variables",(0,s.jsx)(n.br,{}),"\nSpecify the newly created user and password in the DorisDisaggregatedCluster resource:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spec:\n  adminUser:\n    name: ${DB_ADMIN_USER}\n    password: ${DB_ADMIN_PASSWD}\n"})}),"\n",(0,s.jsx)(n.p,{children:"${DB_ADMIN_USER}: the name of the new administrative user. ${DB_ADMIN_PASSWD}: the corresponding password."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Option 2: Using a Secret",(0,s.jsx)(n.br,{}),"\na. Define the Secret",(0,s.jsx)(n.br,{}),"\nCreate a Basic Authentication Secret in the following format:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"stringData:\n  username: ${DB_ADMIN_USER}\n  password: ${DB_ADMIN_PASSWD}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Deploy the Secret to your Kubernetes cluster using the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"kubectl -n ${namespace} apply -f ${secretFileName}.yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"${namespace}: the namespace where the DorisDisaggregatedCluster resource is deployed. ${secretFileName}: the name of the Secret definition file."}),"\n",(0,s.jsxs)(n.p,{children:["b. Update the DorisDisaggregatedCluster Resource",(0,s.jsx)(n.br,{}),"\nReference the Secret in the resource configuration:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spec:\n  authSecret: ${secretName}\n"})}),"\n",(0,s.jsx)(n.p,{children:"${secretName}: the name of the Secret containing the user credentials."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Note",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"After configuring the root password and specifying a new user with node management privileges, Doris Operator will trigger a rolling restart of existing services in the cluster."}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{id:"using-kerberos-authentication",children:"Using Kerberos Authentication"}),"\n",(0,s.jsxs)(n.p,{children:["The Doris Operator has supported Kerberos authentication for Doris (versions 2.1.10, 3.0.6, and later) in Kubernetes since version 25.5.1. To enable Kerberos authentication in Doris, both the ",(0,s.jsx)(n.a,{href:"https://web.mit.edu/kerberos/krb5-1.12/doc/admin/conf_files/krb5_conf.html",children:"krb5.conf file"})," and ",(0,s.jsx)(n.a,{href:"https://web.mit.edu/Kerberos/krb5-1.16/doc/basic/keytab_def.html",children:"keytab files"})," are required.\nThe Doris Operator mounts the krb5.conf file using a ConfigMap resource and mounts the keytab files using a Secret resource. The workflow for enabling Kerberos authentication is as follows:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a ConfigMap containing the krb5.conf file:\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"kubectl create -n ${namespace} configmap ${name} --from-file=krb5.conf\n"})}),"\nReplace ${namespace} with the namespace where the DorisDisaggregatedCluster is deployed, and ${name} with the desired name for the ConfigMap."]}),"\n",(0,s.jsxs)(n.li,{children:["Create a Secret containing the keytab files:\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"kubectl create -n ${namespace} secret generic ${name} --from-file=${xxx.keytab}\n"})}),"\nReplace ${namespace} with the namespace where the DorisDisaggregatedCluster is deployed, and ${name} with the desired name for the Secret. If multiple keytab files need to be mounted, refer to the ",(0,s.jsx)(n.a,{href:"https://kubernetes.io/docs/reference/kubectl/generated/kubectl_create/kubectl_create_secret/",children:"kubectl create Secret documentation"})," to include them in a single Secret."]}),"\n",(0,s.jsxs)(n.li,{children:["Configure the DorisDisaggregatedCluster resource to specify the ConfigMap containing krb5.conf and the Secret containing keytab files:\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"spec:\n  kerberosInfo:\n    krb5ConfigMap: ${krb5ConfigMapName}\n    keytabSecretName: ${keytabSecretName}\n    keytabPath: ${keytabPath}\n"})}),"\n${krb5ConfigMapName}: Name of the ConfigMap containing the krb5.conf file. ${keytabSecretName}: Name of the Secret containing the keytab files. ${keytabPath}: The directory path in the container where the Secret mounts the keytab files. This path should match the directory specified by hadoop.kerberos.keytab when creating a catalog. For catalog configuration details, refer to the ",(0,s.jsx)(n.a,{href:"/docs/dev/lakehouse/catalogs/hive-catalog#configuring-catalog",children:"Hive Catalog configuration"})," documentation."]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return o},a:function(){return a}});var r=t(667294);let s={},i=r.createContext(s);function a(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);
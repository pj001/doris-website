"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["911921"],{520239:function(e,n,l){l.r(n),l.d(n,{default:()=>o,frontMatter:()=>c,metadata:()=>s,assets:()=>i,toc:()=>a,contentTitle:()=>r});var s=JSON.parse('{"id":"lakehouse/metastores/aws-glue","title":"AWS Glue","description":"\u672C\u6587\u6863\u4ECB\u7ECD\u901A\u8FC7 CREATE CATALOG \u4F7F\u7528 AWS Glue Catalog \u8BBF\u95EE Iceberg \u8868 \u6216 Hive \u8868 \u65F6\u7684\u53C2\u6570\u914D\u7F6E\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/lakehouse/metastores/aws-glue.md","sourceDirName":"lakehouse/metastores","slug":"/lakehouse/metastores/aws-glue","permalink":"/zh-CN/docs/dev/lakehouse/metastores/aws-glue","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"AWS Glue","language":"zh-CN"},"sidebar":"docs","previous":{"title":"Hive Metastore","permalink":"/zh-CN/docs/dev/lakehouse/metastores/hive-metastore"},"next":{"title":"Google Dataproc","permalink":"/zh-CN/docs/dev/lakehouse/metastores/google-dataproc-metastore"}}'),t=l("785893"),d=l("250065");let c={title:"AWS Glue",language:"zh-CN"},r=void 0,i={},a=[{value:"\u901A\u7528\u8FDE\u63A5\u53C2\u6570\uFF08\u9002\u7528\u4E8E Hive &amp; Iceberg\uFF09",id:"\u901A\u7528\u8FDE\u63A5\u53C2\u6570\u9002\u7528\u4E8E-hive--iceberg",level:2},{value:"Iceberg \u8868\u914D\u7F6E\uFF08\u4F7F\u7528 Glue Catalog\uFF09",id:"iceberg-\u8868\u914D\u7F6E\u4F7F\u7528-glue-catalog",level:2},{value:"\u4E09\u3001Hive \u8868\u914D\u7F6E\uFF08\u4F7F\u7528 Glue \u4F5C\u4E3A HMS\uFF09",id:"\u4E09hive-\u8868\u914D\u7F6E\u4F7F\u7528-glue-\u4F5C\u4E3A-hms",level:2},{value:"\u56DB\u3001Hive Glue Catalog \u4E13\u5C5E\u53C2\u6570",id:"\u56DBhive-glue-catalog-\u4E13\u5C5E\u53C2\u6570",level:2},{value:"Glue \u5BA2\u6237\u7AEF\u7F13\u5B58\u53C2\u6570\uFF08<strong>\u9ED8\u8BA4\u5173\u95ED</strong>\uFF09",id:"glue-\u5BA2\u6237\u7AEF\u7F13\u5B58\u53C2\u6570\u9ED8\u8BA4\u5173\u95ED",level:3},{value:"- \u8868\u7F13\u5B58\uFF08Table Metadata Cache\uFF09",id:"--\u8868\u7F13\u5B58table-metadata-cache",level:4},{value:"- \u6570\u636E\u5E93\u7F13\u5B58\uFF08Database Metadata Cache\uFF09",id:"--\u6570\u636E\u5E93\u7F13\u5B58database-metadata-cache",level:4},{value:"\u6CE8\u610F\u4E8B\u9879",id:"\u6CE8\u610F\u4E8B\u9879",level:2}];function h(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["\u672C\u6587\u6863\u4ECB\u7ECD\u901A\u8FC7 ",(0,t.jsx)(n.code,{children:"CREATE CATALOG"})," \u4F7F\u7528 ",(0,t.jsx)(n.strong,{children:"AWS Glue Catalog"})," \u8BBF\u95EE ",(0,t.jsx)(n.strong,{children:"Iceberg \u8868"})," \u6216 ",(0,t.jsx)(n.strong,{children:"Hive \u8868"})," \u65F6\u7684\u53C2\u6570\u914D\u7F6E\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u901A\u7528\u8FDE\u63A5\u53C2\u6570\u9002\u7528\u4E8E-hive--iceberg",children:"\u901A\u7528\u8FDE\u63A5\u53C2\u6570\uFF08\u9002\u7528\u4E8E Hive & Iceberg\uFF09"}),"\n",(0,t.jsxs)(n.p,{children:["\u4EE5\u4E0B\u53C2\u6570\u9002\u7528\u4E8E ",(0,t.jsx)(n.strong,{children:"Iceberg Glue Catalog"})," \u548C ",(0,t.jsx)(n.strong,{children:"Hive Glue Catalog"}),"\uFF1A"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,t.jsx)(n.th,{children:"\u63CF\u8FF0"}),(0,t.jsx)(n.th,{children:"\u662F\u5426\u5FC5\u987B"}),(0,t.jsx)(n.th,{children:"\u9ED8\u8BA4\u503C"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"glue.region"})}),(0,t.jsxs)(n.td,{children:["AWS Glue \u533A\u57DF\uFF0C\u4F8B\u5982\uFF1A",(0,t.jsx)(n.code,{children:"us-east-1"})]}),(0,t.jsx)(n.td,{children:"\u662F"}),(0,t.jsx)(n.td,{children:"\u65E0"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"glue.endpoint"})}),(0,t.jsxs)(n.td,{children:["AWS Glue endpoint\uFF0C\u4F8B\u5982\uFF1A",(0,t.jsx)(n.code,{children:"https://glue.us-east-1.amazonaws.com"})]}),(0,t.jsx)(n.td,{children:"\u662F"}),(0,t.jsx)(n.td,{children:"\u65E0"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"glue.access_key"})}),(0,t.jsx)(n.td,{children:"AWS Access Key ID"}),(0,t.jsx)(n.td,{children:"\u662F"}),(0,t.jsx)(n.td,{children:"\u7A7A"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"glue.secret_key"})}),(0,t.jsx)(n.td,{children:"AWS Secret Access Key"}),(0,t.jsx)(n.td,{children:"\u662F"}),(0,t.jsx)(n.td,{children:"\u7A7A"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"glue.catalog_id"})}),(0,t.jsx)(n.td,{children:"Glue Catalog ID\uFF08\u5C1A\u672A\u652F\u6301\uFF09"}),(0,t.jsx)(n.td,{children:"\u5426"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"glue.role_arn"})}),(0,t.jsx)(n.td,{children:"\u7528\u4E8E\u8BBF\u95EE Glue \u7684 IAM Role ARN\uFF08\u5C1A\u672A\u652F\u6301\uFF09"}),(0,t.jsx)(n.td,{children:"\u5426"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"glue.external_id"})}),(0,t.jsx)(n.td,{children:"\u4E0E IAM Role \u914D\u5408\u4F7F\u7528\u7684 External ID\uFF08\u5C1A\u672A\u652F\u6301\uFF09"}),(0,t.jsx)(n.td,{children:"\u5426"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"iceberg-\u8868\u914D\u7F6E\u4F7F\u7528-glue-catalog",children:"Iceberg \u8868\u914D\u7F6E\uFF08\u4F7F\u7528 Glue Catalog\uFF09"}),"\n",(0,t.jsx)(n.p,{children:"\u914D\u7F6E\u793A\u4F8B\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG iceberg_glue_catalog WITH (\n  'type' = 'iceberg',\n  'iceberg.catalog.type' = 'glue',\n  'glue.region' = 'us-east-1',\n  'glue.endpoint' = 'https://glue.us-east-1.amazonaws.com',\n  'glue.access_key' = '<YOUR_ACCESS_KEY>',\n  'glue.secret_key' = '<YOUR_SECRET_KEY>'\n);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u4E09hive-\u8868\u914D\u7F6E\u4F7F\u7528-glue-\u4F5C\u4E3A-hms",children:"\u4E09\u3001Hive \u8868\u914D\u7F6E\uFF08\u4F7F\u7528 Glue \u4F5C\u4E3A HMS\uFF09"}),"\n",(0,t.jsx)(n.p,{children:"\u914D\u7F6E\u793A\u4F8B\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE CATALOG hive_glue_catalog WITH (\n  'type' = 'hms',\n  'hive.metastore.type' = 'glue',\n  'glue.region' = 'us-east-1',\n  'glue.endpoint' = 'https://glue.us-east-1.amazonaws.com',\n  'glue.access_key' = 'YOUR_ACCESS_KEY',\n  'glue.secret_key' = 'YOUR_SECRET_KEY'\n);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u56DBhive-glue-catalog-\u4E13\u5C5E\u53C2\u6570",children:"\u56DB\u3001Hive Glue Catalog \u4E13\u5C5E\u53C2\u6570"}),"\n",(0,t.jsxs)(n.p,{children:["\u4EE5\u4E0B\u914D\u7F6E ",(0,t.jsx)(n.strong,{children:"\u4EC5\u9002\u7528\u4E8E Hive Glue Catalog"}),"\uFF0C\u7528\u4E8E\u63A7\u5236 Hive \u4F7F\u7528 AWS Glue Metastore \u5BA2\u6237\u7AEF\u7684\u884C\u4E3A\u3002"]}),"\n",(0,t.jsxs)(n.h3,{id:"glue-\u5BA2\u6237\u7AEF\u7F13\u5B58\u53C2\u6570\u9ED8\u8BA4\u5173\u95ED",children:["Glue \u5BA2\u6237\u7AEF\u7F13\u5B58\u53C2\u6570\uFF08",(0,t.jsx)(n.strong,{children:"\u9ED8\u8BA4\u5173\u95ED"}),"\uFF09"]}),"\n",(0,t.jsxs)(n.p,{children:["Glue \u5BA2\u6237\u7AEF\u63D0\u4F9B\u5143\u6570\u636E\u7F13\u5B58\uFF08",(0,t.jsx)(n.strong,{children:"\u4EC5\u652F\u6301 Hive Glue"}),"\uFF09\uFF1A"]}),"\n",(0,t.jsx)(n.h4,{id:"--\u8868\u7F13\u5B58table-metadata-cache",children:"- \u8868\u7F13\u5B58\uFF08Table Metadata Cache\uFF09"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u53C2\u6570\u540D\u79F0"}),(0,t.jsx)(n.th,{children:"\u63CF\u8FF0"}),(0,t.jsx)(n.th,{children:"\u9ED8\u8BA4\u503C"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"aws.glue.cache.table.enable"})}),(0,t.jsx)(n.td,{children:"\u662F\u5426\u542F\u7528\u8868\u7F13\u5B58"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"aws.glue.cache.table.size"})}),(0,t.jsx)(n.td,{children:"\u8868\u7F13\u5B58\u7684\u6700\u5927\u6761\u76EE\u6570"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"1000"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"aws.glue.cache.table.ttl-mins"})}),(0,t.jsx)(n.td,{children:"\u8868\u7F13\u5B58\u7684\u5B58\u6D3B\u65F6\u95F4\uFF08\u5206\u949F\uFF09"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"30"})})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"--\u6570\u636E\u5E93\u7F13\u5B58database-metadata-cache",children:"- \u6570\u636E\u5E93\u7F13\u5B58\uFF08Database Metadata Cache\uFF09"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u53C2\u6570\u540D\u79F0"}),(0,t.jsx)(n.th,{children:"\u63CF\u8FF0"}),(0,t.jsx)(n.th,{children:"\u9ED8\u8BA4\u503C"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"aws.glue.cache.db.enable"})}),(0,t.jsx)(n.td,{children:"\u662F\u5426\u542F\u7528\u6570\u636E\u5E93\u7F13\u5B58"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"aws.glue.cache.db.size"})}),(0,t.jsx)(n.td,{children:"\u6570\u636E\u5E93\u7F13\u5B58\u7684\u6700\u5927\u6761\u76EE\u6570"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"1000"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"aws.glue.cache.db.ttl-mins"})}),(0,t.jsx)(n.td,{children:"\u6570\u636E\u5E93\u7F13\u5B58\u7684\u5B58\u6D3B\u65F6\u95F4\uFF08\u5206\u949F\uFF09"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"30"})})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"\u53C2\u8003\uFF1A"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.aws.amazon.com/glue/latest/webapi/API_GetTable.html",children:"GetTable API"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.aws.amazon.com/glue/latest/webapi/API_GetDatabase.html",children:"GetDatabase API"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u6CE8\u610F\u4E8B\u9879",children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u5982\u679C\u4F60\u4F7F\u7528\u7684\u662F ",(0,t.jsx)(n.strong,{children:"Iceberg \u8868"}),"\uFF0C\u53EA\u9700\u5173\u6CE8 ",(0,t.jsx)(n.strong,{children:"\u901A\u7528\u8FDE\u63A5\u53C2\u6570"}),"\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u5982\u679C\u4F60\u4F7F\u7528\u7684\u662F ",(0,t.jsx)(n.strong,{children:"Hive \u8868"})," \u5E76\u5C06 Glue \u4F5C\u4E3A Hive Metastore\uFF0C\u9700\u989D\u5916\u914D\u7F6E Hive Glue \u4E13\u5C5E\u53C2\u6570\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7F13\u5B58\u673A\u5236\u76EE\u524D\u4EC5\u5728 Hive Glue \u573A\u666F\u4E0B\u6709\u6548"}),"\uFF0CIceberg Glue Catalog \u4E0D\u4F7F\u7528\u8FD9\u4E9B\u53C2\u6570\u3002"]}),"\n"]})]})}function o(e={}){let{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},250065:function(e,n,l){l.d(n,{Z:function(){return r},a:function(){return c}});var s=l(667294);let t={},d=s.createContext(t);function c(e){let n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);